<!DOCTYPE html>
<html ng-app="app">
	<head>
		<meta charset="UTF-8">
		<title></title>
		<script type="text/javascript" src="angular.js"></script>
		<script type="text/javascript" src="angular-route.js">
			
		</script>
		<script type="text/javascript">
			var app = angular.module('app',['ngRoute']);
			
			// 配置路由表
			
			app.config(['$routeProvider',function ($routeProvider){
				$routeProvider.when('/p=:id',{
					templateUrl: 'find.html',
					controller: 'first'
				}).when('/friend',{
					template: '<h1>这是朋友</h1>'
				}).when('/search',{
					template: '<h1>这是搜索</h1>'
				}).otherwise({redirectTo: '/p=1'});
				
			}]);
			
			app.controller('first',['$scope','$routeParams','$route',function ($scope,$routeParams,$route) {
				$scope.arr = [];
				// 设置数组的长度
				$scope.arr.length = 20;
				$scope.index = $routeParams.id;
				$scope.changeIndex = function (a) {
//					console.log(111);
					//更新参数
					$route.updateParams({id: a});
				}
			}]);
		</script>
	</head>
	<body>
		<a href="#/p=1">我的</a>
		<a href="#/friend">朋友</a>
		<a href="#/search">搜索</a>
		
		<div ng-view></div>
	</body>
</html>
